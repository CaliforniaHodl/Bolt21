# Decap CMS Configuration for Bolt21
# Access at: https://bolt21.io/admin/

# GitHub Backend for Cloudflare Pages
# Setup: Create GitHub OAuth App at https://github.com/settings/developers
# - Homepage URL: https://bolt21.io
# - Authorization callback URL: https://bolt21.io/callback
backend:
  name: github
  repo: bolt21/bolt21-website  # UPDATE THIS to your actual repo
  branch: main
  base_url: https://bolt21.io
  auth_endpoint: /api/auth

# Local development - uncomment to use local backend
# local_backend: true

# Media files
media_folder: "static/images/blog"
public_folder: "/images/blog"

# Site URL for previews
site_url: https://bolt21.io
display_url: https://bolt21.io
logo_url: https://bolt21.io/images/logo.png

# Slug settings
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

# Collections
collections:
  # Blog Posts
  - name: "blog"
    label: "Blog Posts"
    folder: "content/blog"
    create: true
    slug: "{{slug}}"
    preview_path: "blog/{{slug}}"
    fields:
      - label: "CSS"
        name: "css"
        widget: "hidden"
        default: ["blog.css"]
      - label: "Title"
        name: "title"
        widget: "string"
        hint: "SEO-friendly title (50-60 characters ideal)"
      - label: "Description"
        name: "description"
        widget: "text"
        hint: "Meta description for SEO (140-160 characters)"
      - label: "Publish Date"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        date_format: "YYYY-MM-DD"
        time_format: false
      - label: "Author"
        name: "author"
        widget: "string"
        default: "Bolt21 Team"
      - label: "Tags"
        name: "tags"
        widget: "list"
        hint: "Comma-separated tags"
      - label: "Featured Image"
        name: "image"
        widget: "image"
        required: false
        hint: "Recommended: 1200x630px for social sharing"
      - label: "Draft"
        name: "draft"
        widget: "boolean"
        default: false
        required: false
      - label: "Body"
        name: "body"
        widget: "markdown"

  # Documentation
  - name: "docs"
    label: "Documentation"
    folder: "content/docs"
    create: true
    slug: "{{slug}}"
    preview_path: "docs/{{slug}}"
    fields:
      - label: "CSS"
        name: "css"
        widget: "hidden"
        default: ["docs.css"]
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Description"
        name: "description"
        widget: "text"
        required: false
      - label: "Weight"
        name: "weight"
        widget: "number"
        hint: "Order in navigation (lower = first)"
        required: false
      - label: "Body"
        name: "body"
        widget: "markdown"

  # Main Pages
  - name: "pages"
    label: "Pages"
    files:
      - label: "Home"
        name: "home"
        file: "content/_index.md"
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
          - label: "Description"
            name: "description"
            widget: "text"
          - label: "CSS"
            name: "css"
            widget: "list"
          - label: "JS"
            name: "js"
            widget: "list"
            required: false

      - label: "About"
        name: "about"
        file: "content/about.md"
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
          - label: "Description"
            name: "description"
            widget: "text"
          - label: "Layout"
            name: "layout"
            widget: "hidden"
            default: "about"
          - label: "CSS"
            name: "css"
            widget: "list"

      - label: "Features"
        name: "features"
        file: "content/features.md"
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
          - label: "Description"
            name: "description"
            widget: "text"
          - label: "Layout"
            name: "layout"
            widget: "hidden"
            default: "features"
          - label: "CSS"
            name: "css"
            widget: "list"

  # Legal Pages
  - name: "legal"
    label: "Legal"
    files:
      - label: "Privacy Policy"
        name: "privacy"
        file: "content/privacy-policy.md"
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
          - label: "Description"
            name: "description"
            widget: "text"
          - label: "Body"
            name: "body"
            widget: "markdown"

      - label: "Terms of Use"
        name: "terms"
        file: "content/terms-of-use.md"
        fields:
          - label: "Title"
            name: "title"
            widget: "string"
          - label: "Description"
            name: "description"
            widget: "text"
          - label: "Body"
            name: "body"
            widget: "markdown"
